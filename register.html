<html>
    <head>
        <link rel="stylesheet" href="styles.css">
    </head>
    <form id="registration-form">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required>
      
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
      
        <button type="submit">Register</button>
      </form>

      <script>

        document.addEventListener('DOMContentLoaded', () => {
            const registrationForm = document.getElementById('registration-form');

            registrationForm.addEventListener('submit', async (e) => {
                e.preventDefault();

                const formData = new FormData(registrationForm);
                const username = formData.get('username');
                const password = formData.get('password');

                console.log(username, password);

                const response = await fetch('/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ username, password }),
                });

                const data = await response.json();
                if (response.ok) {
                    alert(data.message); // Registration successful
                } else {
                    alert('Registration failed. Please try again.'); // Registration failed
                }
            });
        });
        
      </script>
</html>